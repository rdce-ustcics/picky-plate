{"ast":null,"code":"var _jsxFileName = \"C:\\\\React\\\\pappy\\\\src\\\\pages\\\\Dashboard.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Dashboard() {\n  _s();\n  const [items, setItems] = useState([]);\n  const [text, setText] = useState(\"\");\n  const [loading, setLoading] = useState(true);\n  const [sending, setSending] = useState(false);\n  const [error, setError] = useState(\"\");\n\n  // Load all items from API\n  const loadItems = async () => {\n    setLoading(true);\n    setError(\"\");\n    try {\n      const res = await fetch(\"/api/items\");\n      if (!res.ok) throw new Error(\"Failed to load items\");\n      const data = await res.json();\n      setItems(data);\n    } catch (e) {\n      setError(e.message || \"Load failed\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    loadItems();\n  }, []);\n\n  // Add a new item\n  const addItem = async e => {\n    e.preventDefault();\n    const value = text.trim();\n    if (!value) return;\n    setSending(true);\n    setError(\"\");\n    try {\n      const res = await fetch(\"/api/items\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          text: value\n        })\n      });\n      if (!res.ok) throw new Error(\"Add failed\");\n      const created = await res.json();\n      setItems(prev => [created, ...prev]); // optimistic prepend\n      setText(\"\");\n    } catch (e) {\n      setError(e.message || \"Add failed\");\n    } finally {\n      setSending(false);\n    }\n  };\n\n  // Delete an item by id\n  const deleteItem = async id => {\n    try {\n      const res = await fetch(`/api/items/${id}`, {\n        method: \"DELETE\"\n      });\n      if (!res.ok) throw new Error(\"Delete failed\");\n      setItems(prev => prev.filter(x => x._id !== id));\n    } catch (e) {\n      setError(e.message || \"Delete failed\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: 720\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: addItem,\n      style: {\n        display: \"flex\",\n        gap: 8,\n        margin: \"16px 0\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        value: text,\n        onChange: e => setText(e.target.value),\n        placeholder: \"Add an item\\u2026\",\n        style: {\n          flex: 1,\n          padding: 10,\n          borderRadius: 10,\n          border: \"1px solid #ddd\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        disabled: sending,\n        style: {\n          padding: \"10px 16px\",\n          borderRadius: 10\n        },\n        type: \"submit\",\n        children: sending ? \"Adding…\" : \"Add\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        background: \"#ffeaea\",\n        border: \"1px solid #ffb3b3\",\n        padding: 10,\n        borderRadius: 8,\n        marginBottom: 12\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading\\u2026\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }, this) : items.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"No items yet. Add one! \\u2728\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n      style: {\n        listStyle: \"none\",\n        padding: 0,\n        margin: 0\n      },\n      children: items.map(it => /*#__PURE__*/_jsxDEV(\"li\", {\n        style: {\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"space-between\",\n          padding: \"12px 14px\",\n          border: \"1px solid #eee\",\n          borderRadius: 12,\n          background: \"#fff\",\n          marginBottom: 8\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontWeight: 700\n            },\n            children: it.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 17\n          }, this), it.createdAt && /*#__PURE__*/_jsxDEV(\"small\", {\n            style: {\n              color: \"#666\"\n            },\n            children: new Date(it.createdAt).toLocaleString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => deleteItem(it._id),\n          style: {\n            padding: \"8px 12px\",\n            borderRadius: 8\n          },\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 15\n        }, this)]\n      }, it._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n}\n_s(Dashboard, \"c7XAtY9AKonneI7tdprDWsjNr7o=\");\n_c = Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["useEffect","useState","jsxDEV","_jsxDEV","Dashboard","_s","items","setItems","text","setText","loading","setLoading","sending","setSending","error","setError","loadItems","res","fetch","ok","Error","data","json","e","message","addItem","preventDefault","value","trim","method","headers","body","JSON","stringify","created","prev","deleteItem","id","filter","x","_id","style","maxWidth","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","display","gap","margin","onChange","target","placeholder","flex","padding","borderRadius","border","disabled","type","background","marginBottom","length","listStyle","map","it","alignItems","justifyContent","fontWeight","createdAt","color","Date","toLocaleString","onClick","_c","$RefreshReg$"],"sources":["C:/React/pappy/src/pages/Dashboard.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\n\r\nexport default function Dashboard() {\r\n  const [items, setItems] = useState([]);\r\n  const [text, setText] = useState(\"\");\r\n  const [loading, setLoading] = useState(true);\r\n  const [sending, setSending] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  // Load all items from API\r\n  const loadItems = async () => {\r\n    setLoading(true);\r\n    setError(\"\");\r\n    try {\r\n      const res = await fetch(\"/api/items\");\r\n      if (!res.ok) throw new Error(\"Failed to load items\");\r\n      const data = await res.json();\r\n      setItems(data);\r\n    } catch (e) {\r\n      setError(e.message || \"Load failed\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadItems();\r\n  }, []);\r\n\r\n  // Add a new item\r\n  const addItem = async (e) => {\r\n    e.preventDefault();\r\n    const value = text.trim();\r\n    if (!value) return;\r\n    setSending(true);\r\n    setError(\"\");\r\n    try {\r\n      const res = await fetch(\"/api/items\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ text: value }),\r\n      });\r\n      if (!res.ok) throw new Error(\"Add failed\");\r\n      const created = await res.json();\r\n      setItems((prev) => [created, ...prev]); // optimistic prepend\r\n      setText(\"\");\r\n    } catch (e) {\r\n      setError(e.message || \"Add failed\");\r\n    } finally {\r\n      setSending(false);\r\n    }\r\n  };\r\n\r\n  // Delete an item by id\r\n  const deleteItem = async (id) => {\r\n    try {\r\n      const res = await fetch(`/api/items/${id}`, { method: \"DELETE\" });\r\n      if (!res.ok) throw new Error(\"Delete failed\");\r\n      setItems((prev) => prev.filter((x) => x._id !== id));\r\n    } catch (e) {\r\n      setError(e.message || \"Delete failed\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ maxWidth: 720 }}>\r\n      <h1>Dashboard</h1>\r\n\r\n      <form onSubmit={addItem} style={{ display: \"flex\", gap: 8, margin: \"16px 0\" }}>\r\n        <input\r\n          value={text}\r\n          onChange={(e) => setText(e.target.value)}\r\n          placeholder=\"Add an item…\"\r\n          style={{ flex: 1, padding: 10, borderRadius: 10, border: \"1px solid #ddd\" }}\r\n        />\r\n        <button\r\n          disabled={sending}\r\n          style={{ padding: \"10px 16px\", borderRadius: 10 }}\r\n          type=\"submit\"\r\n        >\r\n          {sending ? \"Adding…\" : \"Add\"}\r\n        </button>\r\n      </form>\r\n\r\n      {error && (\r\n        <div style={{ background: \"#ffeaea\", border: \"1px solid #ffb3b3\", padding: 10, borderRadius: 8, marginBottom: 12 }}>\r\n          {error}\r\n        </div>\r\n      )}\r\n\r\n      {loading ? (\r\n        <div>Loading…</div>\r\n      ) : items.length === 0 ? (\r\n        <div>No items yet. Add one! ✨</div>\r\n      ) : (\r\n        <ul style={{ listStyle: \"none\", padding: 0, margin: 0 }}>\r\n          {items.map((it) => (\r\n            <li\r\n              key={it._id}\r\n              style={{\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n                justifyContent: \"space-between\",\r\n                padding: \"12px 14px\",\r\n                border: \"1px solid #eee\",\r\n                borderRadius: 12,\r\n                background: \"#fff\",\r\n                marginBottom: 8,\r\n              }}\r\n            >\r\n              <div>\r\n                <div style={{ fontWeight: 700 }}>{it.text}</div>\r\n                {it.createdAt && (\r\n                  <small style={{ color: \"#666\" }}>\r\n                    {new Date(it.createdAt).toLocaleString()}\r\n                  </small>\r\n                )}\r\n              </div>\r\n              <button\r\n                onClick={() => deleteItem(it._id)}\r\n                style={{ padding: \"8px 12px\", borderRadius: 8 }}\r\n              >\r\n                Delete\r\n              </button>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}